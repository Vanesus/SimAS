
\chapter{Documentación externa}

\section{Introducción}

	Este manual de código corresponde a la aplicación \textbf{SimAS}, \textit{Simulador de análisis Sintácticos}. SimAS es una aplicación didáctica y multiplataforma que permite crear y editar gramáticas de contexto libre, con las que se podrá realizar la simulación del análisis sintáctico descendente y del análisis sintáctico ascendente. En este manual se describen los ficheros de código fuente necesarios para la construcción de la aplicación.
	
	En este manual se detallan los recursos de software y hardware necesarios para la implementación del sistema, además se presentan todos los archivos que forman parte de la aplicación, organizados según su funcionalidad y describiendo su contenido.
	
\section{Recursos}
	
	Para el desarrollo de la aplicación se han utilizado los siguientes recursos:
	
	\begin{itemize}
		\item Recursos de Hardware.	
		\item Recursos de Software.

	\end{itemize}
	

\subsection{Recursos de Hardware}

	Los recursos hardware se pueden subdividir en dos categorías:

	\begin{itemize}
		\item Recursos de hardware para el desarrollo del proyecto: utilizados en el desarrollo de la aplicación. 
		\begin{itemize}
			\item Ordenador portátil Asus PRO5IJSeries. Intel Core i3-370M, 2,4 GHz. 4 GB de memoria RAM. HDD de 500 GB. Tarjeta gráfica Radeon HD 6370m.	
	
		\end{itemize}
	
		\item Recursos hardware para el uso de la aplicación: requisitos mínimos recomendados para el buen funcionamiento de la aplicación.

			\begin{itemize}
				\item Requisitos mínimos declarados por Sun Microsystems para que la Máquina Virtual de Java pueda funcionar correctamente.
			\end{itemize}
	
	\end{itemize}	
	
\subsection{Recursos de Software}	

	\begin{itemize}

	\item Sistemas operativos:
		\begin{itemize}
			\item Ubuntu Linux, versión 12.10
			\item Microsoft Windows 7
		\end{itemize}	 

	\item Este programa está desarrollado en lenguaje \textbf{Java} (Java SE (JDK) 7u40).
	\item Editores: editor de textos Texmaker para Latex.
	\item Entornos de desarrollo. NetBeans 7.3.1. Se utilizará para la codificación y pruebas de la aplicación.
	\item Dentro de NetBeans se ha utilizado \textit{Java Swing} para el desarrollo de la interfaz de usuario de
	 SimAS.
	\item La aplicación SimAS permite la creación de informes de la gramática de contexto libre y de la simulación de ésta. Estos informes se crean mediante la librería \textit{iText} 5.5.0 de Java.
	\item SimAS también permite guardar y cargar gramáticas en formato \textit{XML}.

\end{itemize}

	
\section{Entorno de Desarrollo}

	Como se ha comentado anteriormente, el entorno de desarrollo usado es NetBeans IDE 7.3.1. Con esta herramienta se ha desarrollado el código fuente de la aplicación, se han hecho las pruebas, y se ha generado el paquete final ejecutable. Debido a que el lenguaje usado para el desarrollo ha sido Java, esta aplicación tiene la característica de ser multiplataforma y multiarquitectura, es decir, que se puede ejecutar de manera independiente, y sin hacer ninguna modificación, en sistemas con arquitectura distinta y con sistemas operativos diferentes, obteniendo el mismo resultado.
	
	Esto es posible debido a que el intérprete del lenguaje Java, \textit{Java Virtual Machine} (JVM), está instalado en la máquina que se ejecuta; si esto no fuera así, no podría ejecutarse el programa. Así pues, instalando en cada sistema operativo una versión compatible del intérprete, y teniendo en cuenta también la arquitectura del ordenador, se puede ejecutar un mismo programa en cualquier sistema que cuente con este intérprete.
	
	Para llevar a cabo el desarrollo de esta aplicación se han seguido los siguientes pasos:
	
	\begin{enumerate}
		\item Preparación del entorno de desarrollo y de la Máquina Virtual de Java.
		\item Compilación de la aplicación.
		\item Empaquetado de la aplicación.
	\end{enumerate}
	
	\subsection{Preparación del entorno de desarrollo y de la Máquina Virtual de Java}
	
		Los pasos seguidos para preparar y configurar el entorno de desarrollo y la máquina virtual son los siguientes:
		
	\begin{enumerate}
		\item Descargar Netbeans con Java SE (actualmente, a la hora de escribir este manual, se encuentra disponible la versión 8.0.2) de la página web [1].
		\item Instalar el archivo descargado (nótese que NetBeans es portable y la propia página web detecta el sistema operativo de la máquina, para bajarse un instalador de NetBeans apropiado, para Windows, Linux o Mac).
		\item Crear un proyecto en NetBeans y añadir el código fuente de SimAS a la carpeta src.
		\item Añadir el archivo .jar de la librería iText (iText-5.5.0.jar) a las referencias del proyecto. Para esto, en la jerarquía de directorios, del proyecto, se hace clic derecho sobre la opción Libraries y después se selecciona la opción Add JAR/Folder para seleccionar la librería a añadir. Se recomienda tener bien localizada esta librería e incluirla en la carpeta de desarrollo del proyecto (para evitar que falle el proyecto si la librería es borrada por error).		
		
		 \begin{figure}[H]
      		\begin{center} 
				\includegraphics[width=0.95\textwidth]{img/cod1.png}
				\caption{Añadir las librerías iText}
				\label{fig:cod1}
      		\end{center}
  		\end{figure}
		
	\end{enumerate}
	
	\subsection{Compilación de la aplicación}
	
	Para compilar el programa y ejectuar la aplicación en NetBeans, sólo hay que pulsar el botón Run tal y
como se muestra en la figura \ref{fig:cod2}. NetBeans cargará y ejecutará la clase principal de la aplicación directamente (compilándose antes todos los ficheros .java a .class).

		\begin{figure}[H]
      		\begin{center} 
				\includegraphics[width=0.95\textwidth]{img/cod2.png}
				\caption{Compilación de SimAS}
				\label{fig:cod2}
      		\end{center}
  		\end{figure}
  		
  		\begin{figure}[H]
      		\begin{center} 
				\includegraphics[width=0.95\textwidth]{img/cod3.png}
				\caption{Ejecución de SimAS}
				\label{fig:cod3}
      		\end{center}
  		\end{figure}
  		
  		
  	\subsection{Empaquetado de la aplicación}
  	
  	El último paso para obtener la aplicación ejecutable, es empaquetar el código para generar el archivo en formato .jar. Para ello, se ha de usar la opción \textit{Clean and Build Project} del menú Run de Netbeans.
  	
		\begin{figure}[H]
      		\begin{center} 
				\includegraphics[width=0.95\textwidth]{img/cod4.png}
				\caption{Empaquetado de SimAS}
				\label{fig:cod4}
      		\end{center}
  		\end{figure}
  		
  		
  	Una vez hecho esto, en la carpeta del proyecto aparecerá una carpeta denominada \textit{dist}, que contendrá el
archivo autoejecutable del proyecto, \textbf{SimAS.jar}, así como la carpeta lib, que tendrá las librerías utilizadas por el proyecto:

	\begin{itemize}
		\item \textbf{AbsoluteLayout}: utilizada por las interfaces gráficas (la añade NetBeans automáticamente).
		\item \textbf{BeansBinding}: utilizada por NetBeans para la construcción del ejecutable (la añade NetBeans automáticamente).
		\item \textbf{iTextPdf}: librería para la generación de documentos PDF (fue añadida al proyecto tal y como se explicó anteriormente).

	\end{itemize}
	
	Existen dos formas de ejecutar la aplicación fuera de NetBeans:
	
	\begin{enumerate}
		\item Copiar la carpeta dist y ejecutar SimAS.jar haciendo doble clic con el botón derecho y luego ejecutar la máquina virtual.
		\item Abrir un terminal y utilizar la instrucción java -jar SimAS.jar.

	\end{enumerate}

Es importante tener en cuenta que la carpeta lib siempre deberá ir junto con el ejecutable de la aplicación,
puesto que si se borra, se renombra o se elimina algún componente de la carpeta, la ejecución del programa fallará
al no encontrar las librerías necesarias.



\section{Descripción modular}

	El proyecto está dividido en paquetes, los cuales contienen los ficheros con el código fuente y los recursos de la aplicación. Los paquetes que componen el programa son:
	
	\begin{itemize}
	\item \textbf{Paquete es.uco.simas}: es el paquete principal de la aplicación, y el que contiene los demás 						paquetes y la main-class de la aplicación.
		\begin{itemize}
			\item \textit{SimAS.java}: objeto principal de la aplicación. Es la encargada de lanzar cada uno de los 					módulos: Editor, Simulador y Ayuda.
			\item \textit{Bienvenida.java}: es el panel de bienvenida a la aplicación, donde se muestra el logotipo  				y la versión de la misma.
		\end{itemize}
	
	\item \textbf{Paquete es.uco.simas.centroayuda}:
		\begin{itemize}
			\item Recursos de la ayuda: ficheros en formato .html e imágenes. Es el contenido de la ayuda.
			\item AcercaDe.java: información sobre la aplicación.
		\end{itemize}
  
	\item \textbf{Paquete es.uco.simas.editor}:
		\begin{itemize}
			\item \textit{ColCanLALR.java}: calcula la colección canónica de elementos LALR.
			\item \textit{ColCanLR0.java}: calcula la colección canónica de elementos LR(0).			
			\item \textit{ColCanLR1.java}: calcula la colección canónica de elementos LR(1).						
			\item \textit{ConjElementosLALR.java} calcula el conjunto de elementos LALR.
			\item \textit{ConjElementosLR0.java} calcula el conjunto de elementos LR(0).			
			\item \textit{ConjElementosLR1.java} calcula el conjunto de elementos LR(1).						
			\item \textit{Editor.java}: ventana del editor.
			\item \textit{ElementosLALR.java}: calcula los elementos LALR.
			\item \textit{ElementosLR0.java}: calcula los elementos LR(0).			
			\item \textit{ElementosLR1.java}: calcula los elementos LR(1).						
			\item \textit{FuncionError.java}: crea las funciones de error.
			\item \textit{PanelCreacionGramaticaPaso1.java}: paso número uno del asistente de creación de gramáticas.
			\item \textit{PanelCreacionGramaticaPaso2.java}: paso número dos del asistente de creación de gramáticas.
			\item \textit{PanelCreacionGramaticaPaso3.java}: paso número tres del asistente de creación de gramáticas.		
			\item \textit{PanelCreacionGramaticaPaso4.java}: paso número cuatro del asistente de creación de gramáticas.
			\item \textit{ParteAccion.java}: parte acción de la tabla LR.
			\item \textit{ParteIrA.java}: parte ir\_a de la tabla LR.
			\item \textit{TablaLR.java}: clase que almacena los datos de la tabla LR para el análisis sintáctico ascendente.
			\item \textit{TablaPredictiva.java}: clase que almacena los datos de la tabla predictiva para el análisis sintáctico descendente.
			\item \textit{VentanaCreacionGramatica.java}: ventana para la creación de la gramática de contexto libre.
			\item \textit{VentanaProducciones.java}: ventana para la definición de las producciones de la gramática de contexto libre.
			\item \textit{VentanaResultadosValidacion.java}: ventana que muestra los resultados de la validación de la gramática.
			\item \textit{VentanaSimbolosNoTerminales.java}: ventana para la definición de los símbolos no terminales de la gramática.
			\item \textit{VentanaSimbolosTerminales.java}: ventana para la definición de los símbolos terminales de la gramática.
			\item \textit{Visualizacion.java}: ventana para la visualización de la gramática.			
			
		\end{itemize}
		
	
	
	\item \textbf{Paquete es.uco.simas.resources}:
		\begin{itemize}
			\item Recursos de la interfaz: recursos gráficos de la interfaz (iconos, fuentes de letra, etcétera).
		\end{itemize}

	\item \textbf{Paquete es.uco.simas.simulador}:
		\begin{itemize}
			\item \textit{CadEntrada.java}: clase que almacena los datos de la cadena de entrada.
			\item \textit{MiRender.java}: clase para almacenar el formato para mostrar los datos en las tablas.
			\item \textit{NuevaFuncionError.java}: ventana para introducir los datos de una nueva funcion de error.
			\item \textit{NuevaSimulacionASc.java}: ventana para crear una nueva simulación ascendente.
			\item \textit{NuevaSimulacionDesc.java}: ventana para crear una nueva sumulación descendente.
			\item \textit{PanelNuevaSimAscPaso1.java}: paso número uno del asistente de la simulación del método ascendente.
			\item \textit{PanelNuevaSimAscPaso2.java}: paso número dos del asistente de la simulación del método ascendente.	
			\item \textit{PanelNuevaSimAscPaso3.java}: paso número tres del asistente de la simulación del método ascendente.	
			\item \textit{PanelNuevaSimAscPaso4.java}: paso número cuatro del asistente de la simulación del método ascendente.		
			\item \textit{PanelNuevaSimAscPaso5.java}: paso número cinco del asistente de la simulación del método ascendente.	
			\item \textit{PanelNuevaSimAscPaso6.java}: paso número seis del asistente de la simulación del método ascendente.			
			\item \textit{PanelNuevaSimDescPaso1.java}: paso número uno del asistente de la simulación del método descedente.	
			\item \textit{PanelNuevaSimDescPaso2.java}: paso número dos del asistente de la simulación del método descedente.	
			\item \textit{PanelNuevaSimDescPaso3.java}: paso número tres del asistente de la simulación del método descedente.	
			\item \textit{PanelNuevaSimDescPaso4.java}: paso número cuatro del asistente de la simulación del método descedente.	
			\item \textit{PanelNuevaSimDescPaso5.java}: paso número cinco del asistente de la simulación del método descedente.				\item \textit{Simulador.java}: clase que almacena los datos de la simulación.
			\item \textit{VentanaSimuladorAsc.java}: ventana del simulador ascendente.	
			\item \textit{VentanaSimuladorDesc.java}: ventana del simulador descendente.									
		\end{itemize}				
	
	\item \textbf{Paquete es.uco.simas.util.gramatica}:
		\begin{itemize}
			\item \textit{Antecedente.java}: clase que almacena los datos de los antecedentes de las producciones.
			\item \textit{Consecuente.java}: clase que almacena los datos de los consecuentes de las producciones.
			\item \textit{Gramatica.java}: clase que almacena los datos de la gramática.
			\item \textit{NoTerminal.java}: clase que almacena los datos de los símbolos no terminales de la gramática.
			\item \textit{Produccion.java}: clase que almacena los datos de las producciones de la gramática.
			\item \textit{Simbolo.java}: clase que almacena los datos de los símbolos de la gramática.
			\item \textit{Terminal.java}: clase que almacena los datos de los símbolos terminales de la gramática.
		\end{itemize}
	
	
	\end{itemize}
	
	













	