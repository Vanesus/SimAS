\chapter{Pruebas}

\section{Introducción}

En este capítulo se van a describir las pruebas realizadas a la aplicación desarrollada, para asegurar que su funcionamiento es el correcto, y que se trata de una aplicación amigable, y que puede recuperarse de los e\-rrores que puedan ocurrir durante su utilización.

Ya que no es posible realizar un análisis completo de un software, las pruebas
del mismo se deben desarrollar de forma que se comprueben las zonas o líneas
de programa con una mayor probabilidad de e\-rror.

Gracias a la división del programa en módulos independientes (o semi-indepen\-dientes, puesto que en algunos
casos desarrollan tareas de forma conjunta), las pruebas se han orientado
a comprobar el funcionamiento de cada módulo de forma específica, además
de comprobar aquellos puntos en los que los módulos interactúan entre sí.

Por otro lado, hay que resaltar el hecho de que durante la fase de codificación, se han realizando pruebas del software a medida que se programaba. Esto se debe en gran medida a la dependencia existente entre los módulos de la aplicación (no se puede simular una gramática si no se puede crear y validar correctamente,
por ejemplo). 

Dada la división modular de la aplicación, las pruebas se han agrupado por los módulos que la componen:

\begin{itemize}
 \item \textbf{Módulo Editor}.
 \item \textbf{Módulo Simulador}.
 \item \textbf{Módulo Ayuda}.
\end{itemize}

Finalmente, para cada prueba realizada, se detallará el objetivo de la prueba, el proceso llevado a cabo, el resultado de la misma y la acción tomada (en caso de haber detectado e\-rrores en el software).

\section{Pruebas del módulo Editor}

En esta sección se recopilan todas las pruebas efectuadas al módulo de Edición de gramáticas.

\subsection{Asistente de creación de gramáticas}

\textbf{Objetivo}: comprobar si el asistente de creación
de gramáticas funciona correctamente y permite generar la gramática de una forma completa,
controlando además todos los e\-rrores que se puedan producir.
\medskip

\textbf{Proceso}: el proceso llevado a cabo para la ejecución de
esta prueba consistió en ejecutar el asistente de creación de gramáticas
con el objeto de crear varias gramáticas de prueba (extraídas de los apuntes
de la asignatura \textit{Procesadores de Lenguajes}). Se inició el asistente
y se fueron creando los componentes de las gramáticas y después se visualizaron en el panel de visualización
del editor.
\medskip

\textbf{Resultado}: al final de la ejecución de esta prueba, se pudieron 
crear todas las gramáticas propuestas, pero se detectó el siguiente e\-rror:
\begin{itemize}
 \item El editor permitía continuar con la definición de una gramática aunque no se hubiese definido un nombre y una descripción de la misma. Esto puede dar lugar a confusiones y no saber exactamente qué lenguaje genera la gramática que se va a utilizar para simular el análisis sintáctico.
\end{itemize}

\medskip

\textbf{Solución adoptada}: los e\-rrores encontrados se solucionaron, tomando las
siguientes medidas:
\begin{itemize}
 \item La aplicación no deja pasar al siguiente paso del asistente de creación de la gramática si no se han rellenado los campos de nombre y descripción de la gramática.
\end{itemize}

\subsection{Almacenamiento y recuperación de gramáticas}

\textbf{Objetivo}: el objetivo de esta prueba era el de comprobar
que una gramática creada se podía guardar en un fichero y ser recuperada satisfactoriamente
desde el disco duro.
\medskip

\textbf{Proceso}: se crearon varias gramáticas con el asistente y se guardaron
en ficheros, utilizando la opción \textit{Guardar} de la gramática. Después, se recuperaron
las gramáticas desde los ficheros y se cargaron en el panel del editor. Además,
se probó a alterar el formato de algunos ficheros y cambiar los permisos
de otros (para forzar la ocurrencia de e\-rrores de formato o de entrada/salida).
\medskip

\textbf{Resultado}: al finalizar esta prueba, no se detectó ningún e\-rror o anomalía
en el comportamiento de la aplicación. Además, el comportamiento de SimAS frente a los e\-rrores
provocados fue el correcto, controlando y notificando al usuario los e\-rrores producidos
en todo momento.
\medskip

\textbf{Solución adoptada}: no hubo necesidad de tomar ninguna acción correctora de esta prueba.

\subsection{Edición de gramáticas}

\textbf{Objetivo}: en esta prueba se pretende comprobar
si todas las opciones de edición de gramáticas del editor (gestionar
símbolos, gestionar producciones, cambiar el símbolo inicial, etcétera)
funcionan correctamente.
\medskip

\textbf{Proceso}: se cargó una gramática y se realizaron modificaciones de la misma.
\medskip

\textbf{Resultado}: se realizó la prueba y se detectó un e\-rror:
\begin{itemize}
 \item Al eliminar un símbolo, terminal o no terminal, si éste ya había sido utilizado en la definición de alguna de las producciones entonces seguía apareciendo en la correspondiente producción, aunque ya no existiera en el conjunto de los símbolos de la gramática.
\end{itemize}

\medskip

\textbf{Solución adoptada}: las acción tomada para corregir el e\-rror
detectado fue la siguiente:
\begin{itemize}
 \item Al eliminar cualquier símbolo, la aplicación comprueba si éste ha sido utilizado en alguna de las producciones definidas en la gramática. Si el símbolo no aparece en ninguna producción se elimina; sin embargo, si aparece en alguna de ellas, la aplicación lanzará un mensaje informando que ha sido usado y que si se elimina también se eliminará la producción en la que aparece. Con esto se asegura de que la gramática se podrá validar para su posterior simulación.
\end{itemize}

\subsection{Validación de gramáticas}

\textbf{Objetivo}: el objetivo de esta prueba es el de tomar
una gramática y comprobar si la gramática es válida o no, usando
la opción de validación del editor.
\medskip

\textbf{Proceso}: se cargó una gramática y se probó a alterar
algunas producciones a propósito para que fallara la validación y luego,
se corrigieron para ver si se pasaba la validación.
\medskip

\textbf{Resultado}: el resultado fue que los e\-rrores de la validación se detectaban
y notificaban correctamente. 
\medskip

\textbf{Solución adoptada}: no hubo necesidad de tomar ninguna acción correctora.
de esta prueba.

\subsection{Generación de informes de gramáticas}

\textbf{Objetivo}: generar un informe pdf de una gramática y guardarlo al disco.
\medskip

\textbf{Proceso}: se cargó una gramática y se generó un informe
pdf de la misma. 
\medskip

\textbf{Resultado}: el resultado obtenido fue que el informe se generaba y guar\-da\-ba
correctamente, con la salvedad de que la palabra vacía ($\epsilon$) no
aparecía en las producciones de la gramática ni en la visualización.
\medskip

\textbf{Solución adoptada}: este e\-rror fue solucionado cambiando el tipo de letra
con la que se generaba el informe e incluyéndola en el propio proyecto para utilizarla
siempre (y así garantizar que siempre van a salir impresos estos caracteres). Al mismo tiempo,
se realizó esta misma acción para el informe de simulación (el cual se pensó que fallaría
por el mismo motivo aquí reflejado).


\section{Pruebas del módulo Simulador}

En esta sección se recopilan todas las pruebas efectuadas al módulo de 
\textbf{Simulación de gramáticas}.


\subsection{Simulación del análisis sintáctico descendente }

\textbf{Objetivo}: el objetivo de esta prueba era el de lanzar el asistente de simulación del análisis sintáctico descendente sobre una gramática que es válida y que el asistente realice todos los pasos de forma correcta.

\medskip

\textbf{Proceso}: se cargó una gramática válida en el módulo Editor y se inició el asistente de nueva simulación del análisis sintáctico descendente. Después, se ejecutó todo el asistente y se creó la simulación visualizándola después en el panel del Simulador.
\medskip

\textbf{Resultado}: aunque la simulación se pudo crear de forma satisfactoria, se
detectó el siguiente e\-rror:
\begin{itemize}
 \item En el caso de que la gramática fuese recursiva o no estuviese factorizada, al introducir los nuevos símbolos y las nuevas producciones necesarias para solucionar estos problemas; se modificaba la gramática original en el panel del Editor. Este error había que solucionarlo, ya que en el caso de que se quisiera realizar posteriormente una simulación ascendente, la gramática no sería la original.
\end{itemize}

\medskip

\textbf{Solución adoptada}: las acciones tomadas para solucionar este e\-rror fue el siguiente:

\begin{itemize}
 \item En el caso de que fuera a realizar un análisis sintáctico descendente con una gramática con recursividad por la izquierda o no factorizada por la izquieda, se crea una copia de la gramática original y es esta copia la que se utiliza durante todo el proceso de simulación. De esta forma, cuando se termine la simulación y se vuelva a la pantalla del Editor, la gramática que aparecerá será la original que se creó o se cargó.
\end{itemize}




\subsection{Simulación del análisis sintáctico ascendente}

\textbf{Objetivo}: el objetivo de esta prueba era el de lanzar el asistente de simulación del análisis sintáctico ascendente sobre una gramática que es válida y que el asistente realice todos los pasos de forma correcta.
\medskip

\textbf{Proceso}: se cargó una gramática válida en el módulo Editor y se inició el asistente de nueva simulación ascendente. Después, se ejecutó todo el asistente y se creó la simulación visualizándola después en el 
panel del Simulador.
\medskip

\textbf{Resultado}: aunque la simulación se pudo crear de forma satisfactoria, se
detectaron los siguientes e\-rrores:
\begin{enumerate}
 \item Al calcular los conjuntos \textit{primero} y \textit{siguiente} en la simulación del analizador sintáctico ascendente, lo hacía incluyendo la nueva producción \textit{S' $\rightarrow$ S}, así que no se calculaban estos conjuntos correctamente. Debido a esto, la tabla LR no era correcta.
 \item En la colección canónica no aparecían ni la palabra vacía ($\epsilon$) ni el símbolo 
del conjunto vacío ($\emptyset$).
\end{enumerate}

\medskip

\textbf{Solución adoptada}: las acciones tomadas para solucionar los e\-rrores
detectados fueron las siguientes:

\begin{enumerate}
 \item En el paso del asistente de la simulación del analizador sintáctico ascendente donde se calculan los conjuntos \textit{primero} y \textit{siguiente} se utiliza la gramática original y posteriormente se incluye la nueva producción \textit{S' $\rightarrow$ S}.
 \item Al igual que se hizo con los informes, se cambió la tipografía de letra
para mostrar estos símbolos especiales.
\end{enumerate}

\subsection{Ejecución de una simulación}

\textbf{Objetivo}: el objetivo de esta prueba era el de ejecutar
varias simulaciones tanto de análisis sintácticos ascendentes como descendentes con varias gramáticas, observando los e\-rrores que se pueden producir durante la simulación.
\medskip

\textbf{Proceso}: se cargaron varias gramáticas, se creó una simulación descendente y otra ascendente
con cada una de ellas y, después, se ejecutó (previa inserción de una cadena de entrada). Se probó después con cadenas de entrada diferentes.
\medskip

\textbf{Resultado}: se detectaron e\-rrores en algunas de las simulaciones. Estos
e\-rrores son los siguientes:
\begin{enumerate}
 \item Se producía un e\-rror al intentar consultar una celda vacía de la tabla y no se
controlaba.
 \item La simulación podía caer en un bucle infinito según como el usuario hubiera
usado las funciones de e\-rror.
 \item Se detectó un e\-rror en la ejecución de gramáticas que contenían la pa\-la\-bra
vacía ($\epsilon$).
\end{enumerate}

\medskip

\textbf{Solución adoptada}: se tomaron las siguientes acciones para resolver cada e\-rror:
\begin{enumerate}
 \item Se comprobó el algoritmo de análisis para que notificara si se había consultado una celda vacía con un mensaje de error.
 \item Para evitar el bucle infinito, se creó un contador máximo de iteraciones, de forma
tal que solamente se superara en el caso de que haya una recursión infinita
(y nunca ante la ejecución de una simulación normal).
 \item En el método de simulación del analizador sintáctico ascendente, se comprobó que los mecanismos de construcción de las colecciones canónicas fa\-lla\-ban ante la presencia de $\epsilon$, puesto que se reducía mal y el algoritmo
trataba de desplazar $\epsilon$ a la pila, lo cual es incorrecto. Se corrigieron los métodos
y se probó de nuevo con una gramática con $\epsilon$ en las producciones, comprobando
que el resultado de la simulación era ahora satisfactorio.
\end{enumerate}

\subsection{Generación de un informe de simulación}

\textbf{Objetivo}: el objetivo de la prueba era el de obtener
un informe de simulación a partir de una simulación generada usando tanto un análisis sintáctico descendente como ascendente (comprobando
además si éste contiene todos los e\-rrores producidos durante la simulación
y si se utilizan las funciones de e\-rror correctamente).
\medskip

\textbf{Proceso}: se cargó una gramática y se simularon tanto el analizador sintáctico ascendento como descendente. Al finalizar la ejecución, se generaron los informes de cada una de las simulaciones.
\medskip

\textbf{Resultado}: el informe de simulación se obtuvo de forma satisfactoria. De todas formas,
gracias a la prueba se detectó un e\-rror que había pasado desapercibido en las prueba de simulación que se detalló
anteriormente: 
\begin{enumerate}
 \item Una vez terminada la simulación, se podía reiniciar y habilitar de nuevo
los botones para realizarla otra vez, pero si se cambiaba la cadena de entrada o al volver
a reiniciar la simulación, el botón de generación de informes seguía habilitado
(y fallaba consecuentemente si se intentaba generar el informe sin haber
realizado el análisis).
\end{enumerate}
\medskip

\textbf{Solución adoptada}: 
\begin{enumerate}
 \item Se revisó el mecanismo de reinicio del análisis para que, al cambiar la cadena de entrada, aunque no se haya realizado el análisis hasta el final, al generar el informe de la simulación descendente o ascendente, apareciera en él el análisis completo de la nueva cadena de entrada introducida.
\end{enumerate}

%\section{Pruebas del módulo Ayuda}
%
%En esta sección se recopilan todas las pruebas efectuadas al módulo de la
%\textbf{Ayuda}.
%
%\subsection{Carga de la ayuda desde diferentes ventanas}
%
%\textbf{Objetivo}: el objetivo de la prueba consitía en, dada
%una serie de ventanas de la aplicación (tanto del editor como del simulador),
%probar a \textbf{cargar} la ayuda desde los botones de ayuda de las ventanas (y de la
%barra de menús, en el caso del editor y del simulador).
%\medskip
%\medskip
%
%\textbf{Proceso}: se tomó una serie de ventanas y se intentó 
%\textbf{acceder} al contenido de la ayuda desde las mismas.
%\medskip
%\medskip
%
%\textbf{Resultado}: en todos los casos se mostró la ayuda \textbf{correctamente} y además,
%el contenido mostrado estaba relacionado con la ventana desde la que se había
%mostrado la ayuda (que es el comportamiento que se esperaba de esta acción).
%\medskip
%\medskip
%
%\textbf{Solución adoptada}: no hubo necesidad de tomar ninguna acción correctora.
%
%\subsection{Navegación en la ayuda}
%
%\textbf{Objetivo}: el objetivo de esta prueba era el de \textbf{navegar} por la ayuda
%una vez se hubiese accedido a ella.
%\medskip
%\medskip
%
%\textbf{Proceso}: se cargó la ayuda y se intentó \textbf{navegar} por la misma.
%\medskip
%\medskip
%
%\textbf{Resultado}: se pudo navegar por toda la ayuda, pero se detectó que algunos
%\textbf{enlaces} de los menús de la misma \textbf{no eran correctos}, por lo que había veces en las que
%la navegación por la ayuda no era correcta.
%\medskip
%\medskip
%
%\textbf{Solución adoptada}: se revisaron todos los \textbf{menús de navegación} de la ayuda
%y se corrigieron, volviendo a probar después todas y cada una de las páginas de la ayuda
%(porque había que asegurar que este e\-rror estaba erra\-di\-cado completamente). Tras probar
%de nuevo todas las páginas de la ayuda, se concluyó con que se había solucionado
%el e\-rror de forma \textbf{satisfactoria}.